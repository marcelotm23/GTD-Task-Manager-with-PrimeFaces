<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/template-general.xhtml">


	<ui:define name="titulo">
    #{msgs.tituloOperacionListado}
  </ui:define>
<!-- <th>Titulo</th>
		<th>Comentarios</th>
		<th>Fecha planeada</th>
		<th>Fecha finalizada</th>
		<th>Editar</th>
<th>Finalizar</th> -->
	<ui:define name="cuerpo">
		<h:form>
		<p:menu toggleable="true">
        <p:submenu label="#{msgs.categoriasMenu}">
            <p:menuitem value="#{msgs.categoriaInbox}" actionListener="#{controller.mostrarTareas}" update="tablalistado" icon="ui-icon-home" />
            <p:menuitem value="#{msgs.categoriaHoy}" actionListener="#{controller.mostrarTareasHoy}" update="tablalistado" icon="ui-icon-star"/>
            <p:menuitem value="#{msgs.categoriaSemana}" actionListener="#{controller.mostrarTareasSemana}" update="tablalistado" icon="ui-icon-star"/>
        </p:submenu>
    	</p:menu>
			<p:panel header="#{msgs.tituloOperacionListado}">
				<p:dataTable id="tablalistado" var="tarea" 
				value="#{controller.tareas}" border="1"
				emptyMessage="#{msgs.tablaTareasSinTareas}">
					<p:column>
						<f:facet name="header">#{msgs.tablaTareasTitulo}</f:facet>#{tarea.title}</p:column>
					<p:column>
						<f:facet name="header">#{msgs.tablaTareasComentarios}</f:facet>#{tarea.comments}</p:column>
					<p:column>
						<f:facet name="header">#{msgs.tablaTareasFechaPlaneada}</f:facet>
						<h:outputText value="#{tarea.planned}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
						</p:column>
					<p:column>
						<f:facet name="header">#{msgs.tablaTareasFechaFinalizada}</f:facet>
						<h:outputText value="#{tarea.finished}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
					</p:column>
					<p:column>
						<f:facet name="header">#{msgs.tablaTareasEditar}</f:facet>
						<p:commandLink action="#{controller.editar}" type="submit"
							value="#{msgs.tablaBaja}" immediate="true"
							update="tablalistado">
						</p:commandLink>
					</p:column>
					<p:column>
						<f:facet name="header">#{msgs.tablaTareasFinalizar}</f:facet>
						<p:commandLink action="editar" type="submit"
							value="#{msgs.tablaTareasFinalizar}"
							actionListener="#{controller.finalizar}" immediate="true">
						</p:commandLink>
					</p:column>
				</p:dataTable>
			</p:panel>
		</h:form>
	</ui:define>
	<ui:define name="pie">
		<ui:include src="/snippets/pie-casa.xhtml" />
	</ui:define>
</ui:composition>
